# Festival ID Tracker WordPress Plugin

[![License](https://img.shields.io/badge/license-GPL--2.0-blue.svg?style=flat-square)](https://www.gnu.org/licenses/gpl-2.0.html)

A WordPress plugin to track and report on specific URL calls containing unique 'festival ID' parameters, providing daily and global statistics directly in the dashboard with optional redirect functionality.

## Overview

The **Festival ID Tracker** WordPress Plugin is designed to provide custom, in-dashboard analytics for websites using unique identifiers in their URLs, such as those generated by NFC tags or specific campaign links. It offers a straightforward way to monitor engagement and traffic related to these unique IDs without needing to navigate external analytics platforms for this specific data.

**Version 1.4.0** introduces powerful redirect functionality, allowing you to automatically redirect visitors with festival IDs to any destination URL while preserving the tracking capabilities.

This plugin creates two informative widgets directly within your WordPress admin dashboard and includes a comprehensive settings page for configuration:

1.  **Festival ID Daily Statistics:** Offers a daily breakdown of total page accesses and the number of unique 'festival IDs' encountered over a 7-day period. Includes navigation to view historical weekly data.
2.  **Festival ID Global Statistics:** Provides a comprehensive overview of every unique 'festival ID' ever recorded, showing its total accesses and the number of distinct days it has been active. The list is initially limited to the top 5 most active IDs, with an option to expand and view all.
3.  **Settings Page:** Configure redirect behavior and view current statistics all in one place.

## Features

### Core Tracking Features
* **Custom URL Parameter Tracking:** Specifically designed to log accesses to URLs containing `?id=XXXXXX` (where `XXXXXX` is a 6-character alphanumeric string).
* **Database Logging:** All tracked calls are securely stored in a custom WordPress database table.
* **Daily Engagement Reports:**
    * Displays total calls per day.
    * Shows unique `festival_id` count per day (where each unique ID is considered a unique user for that day).
    * 7-day rolling window with intuitive `<<` and `>>` navigation for historical data.
* **Global ID Performance Reports:**
    * Lists all unique `festival_id`s recorded since tracking began.
    * Shows the total number of accesses for each `festival_id`.
    * Indicates the number of distinct days each `festival_id` has been active.
    * Results are sorted by total accesses in descending order.
    * Defaults to showing the top 5 most active IDs with an option to "Show All" and "Show Top 5."

### New in Version 1.4.0: Redirect Functionality
* **Automatic Redirect:** Configure the plugin to automatically redirect visitors with festival IDs to any destination URL.
* **ID Preservation:** The original festival ID parameter is automatically preserved in the redirect URL.
* **Flexible Configuration:** 
    * Enable/disable redirect functionality with a simple checkbox.
    * Set any destination URL for redirects.
    * Works with any external or internal URL.
* **Settings Management:** 
    * Dedicated settings page under `Settings > Festival ID Tracker`.
    * Real-time configuration status display.
    * Quick statistics overview.
    * Testing instructions and examples.

### Administration Features
* **Dashboard Integration:** All statistics are conveniently presented as widgets on your main WordPress admin dashboard.
* **Settings Page:** User-friendly configuration interface with helpful explanations.
* **Plugin Actions:** Quick access to settings directly from the plugins page.
* **Lightweight & Efficient:** Built directly within WordPress, minimizing external dependencies.

## How Redirect Works

When redirect functionality is enabled:

1. **Visitor arrives:** Someone visits `yoursite.com?id=ABC123`
2. **Plugin logs the visit:** The access is recorded for tracking (existing functionality)
3. **Automatic redirect:** Visitor is immediately redirected to your configured destination URL
4. **ID preserved:** They land at `destination-site.com?id=ABC123`

**Example Configuration:**
- **Your site:** `example.com`
- **Configured redirect URL:** `https://venue-website.com/event-info`
- **Visitor accesses:** `example.com?id=ABC123`
- **Result:** Visitor is redirected to `https://venue-website.com/event-info?id=ABC123`

## Installation

### Method 1: Manual Installation 

1.  **Download the Plugin:**
    * Clone this GitHub repository:
        ```bash
        git clone [https://github.com/Clustmart/festival-id-tracker-wp-plugin.git](https://github.com/Clustmart/festival-id-tracker-wp-plugin.git)
        ```
    * Alternatively, download the latest release as a ZIP file from the [Releases page](https://github.com/Clustmart/festival-id-tracker-wp-plugin/releases).
2.  **Upload to WordPress:**
    * If you cloned, rename the cloned folder (e.g., `festival-id-tracker-wp-plugin`) to `festival-id-tracker`.
    * Upload the `festival-id-tracker` folder to your WordPress installation's `wp-content/plugins/` directory.
3.  **Activate Plugin:**
    * Log in to your WordPress admin dashboard.
    * Navigate to `Plugins > Installed Plugins`.
    * Find "Festival ID Tracker" in the list and click "Activate."

### Method 2: Via WordPress Admin (for ZIP download)

1.  **Download Plugin:** Download the latest release as a ZIP file from the [Releases page](https://github.com/Clustmart/festival-id-tracker-wp-plugin/releases).
2.  **Upload via WordPress:**
    * Log in to your WordPress admin dashboard.
    * Navigate to `Plugins > Add New`.
    * Click the "Upload Plugin" button at the top.
    * Click "Choose File" and select the `festival-id-tracker.zip` file you downloaded.
    * Click "Install Now."
3.  **Activate Plugin:**
    * Once installed, click "Activate Plugin."

## Configuration

### Basic Setup (Tracking Only)
Once activated, the plugin will automatically start tracking `?id=XXXXXX` parameters on your website's frontend. No additional configuration is required for basic tracking functionality.

### Redirect Setup (New in v1.4.0)
To configure redirect functionality:

1. **Access Settings:**
   * Navigate to `Settings > Festival ID Tracker` in your WordPress admin.
   * Alternatively, click "Settings" from the plugin list on the Plugins page.

2. **Configure Redirect:**
   * Check "Enable automatic redirect when ID parameter is detected"
   * Enter your desired redirect URL in the "Redirect URL" field
   * Click "Save Settings"

3. **Test Your Configuration:**
   * Visit `yoursite.com?id=TEST01` to verify the redirect works as expected
   * Check the dashboard widgets to confirm the visit was logged

### Settings Page Features
* **Enable/Disable Toggle:** Easily turn redirect functionality on or off
* **Redirect URL Configuration:** Set any destination URL for redirects
* **Current Statistics Display:** View total calls, unique IDs, and today's activity
* **Configuration Status:** See at a glance whether redirect is active and where it points
* **Testing Instructions:** Step-by-step guide to test your setup
* **Helpful Examples:** Clear explanations of how the redirect functionality works

## Usage

### Viewing Statistics

To view the tracking statistics:

1.  Log in to your WordPress admin dashboard.
2.  Navigate to the `Dashboard` screen.
3.  You will see two widgets:
    * **"Festival ID Daily Statistics"**: Shows daily counts. Use the `<<` and `>>` links to navigate through weekly periods.
    * **"Festival ID Global Statistics"**: Displays overall performance for each ID. It defaults to the top 5 IDs. Click "Show All IDs" to see the complete list, or "Show Top 5 IDs" to collapse it back.

### Managing Settings

1. **Access Settings:** Go to `Settings > Festival ID Tracker`
2. **View Current Stats:** See total calls, unique IDs, and today's activity
3. **Configure Redirect:** Enable/disable and set destination URL
4. **Test Configuration:** Use the provided test URL to verify functionality

## Common Use Cases

### NFC Tag Campaigns
- **Scenario:** Festival attendees tap NFC tags to access information
- **Setup:** Each NFC tag contains a URL like `example.com?id=TAG001`
- **Benefit:** Track which tags are most popular and redirect users to event schedules, maps, or special content

### QR Code Marketing
- **Scenario:** QR codes on posters, flyers, or merchandise
- **Setup:** Each QR code encodes a unique URL with festival ID
- **Benefit:** Monitor campaign effectiveness and direct users to registration, social media, or promotional content

### Multi-Venue Events
- **Scenario:** Different venues or stages have unique identifiers
- **Setup:** Redirect visitors to venue-specific information while tracking popularity
- **Benefit:** Understand which venues generate most interest and provide targeted information

### Social Media Campaigns
- **Scenario:** Unique links shared across different social platforms
- **Setup:** Each platform gets a unique festival ID for tracking
- **Benefit:** Measure which social channels drive most engagement

## Example

[Festivalul Inimilor](use_case/festivalul_inimilor_nfc_tracking.md)

## Changelog

### Version 1.4.0
- **NEW:** Redirect functionality with configurable destination URLs
- **NEW:** Comprehensive settings page under Settings > Festival ID Tracker
- **NEW:** Enable/disable toggle for redirect feature
- **NEW:** Automatic preservation of festival ID parameters in redirects
- **NEW:** Quick statistics display in settings page
- **NEW:** Testing tools and instructions
- **NEW:** Settings link added to plugin actions
- **IMPROVED:** Enhanced documentation and user guidance

### Version 1.3.0
- Dashboard widgets for daily and global statistics
- 7-day rolling navigation for historical data
- Top 5 / Show All toggle for global statistics
- Enhanced database logging with improved indexing

## Requirements

- WordPress 5.0 or higher
- PHP 7.4 or higher
- MySQL 5.6 or higher

## Support

For support, feature requests, or bug reports, please visit the [GitHub Issues page](https://github.com/Clustmart/festival-id-tracker-wp-plugin/issues).

## License

This plugin is open-source software licensed under the [GNU General Public License v2.0 or later](https://www.gnu.org/licenses/gpl-2.0.html).